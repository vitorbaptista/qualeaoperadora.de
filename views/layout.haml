!!! Strict
%html
  %head
    %meta{'http-equiv' => 'Content-Type', :content => 'text/html; charset=utf-8'}/
    %script{:type => 'text/javascript', :src => 'http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'}
    %script{:type => 'text/javascript', :src => 'javascripts/jquery.maskedinput-1.1.4.pack.js'}
    :css
      body{background-color:#fff;color:#333;font-family:Arial,Verdana,sans-serif;font-size:62.5%;margin:10% 5% 0 5%;text-align:center;}
      a,a:visited,a:active{color:#0080ff;text-decoration:underline;}
      a:hover{text-decoration:none;}
      input[type=text]{border:1px solid #ccc;color:#333;font-size:1em;padding:4px 6px 4px 6px;}
      #container{clear:both;font-size:3em;margin:auto;}
      #telefone_input{width:225px;}
      #assinatura{position:absolute;bottom:5%;right:3%;width:100%;font-size:1.5em;text-align:right;}
      a.assinatura{color: #333;text-decoration:none;}
      a:hover.assinatura{text-decoration:underline;}
    :javascript
      $(document).ready(function() {
        $("#telefone_input").mask("(99)9999.9999");
      });
      function formSubmit() {
        telefone = document.getElementById('telefone_input').value;
        if (telefone.length != 13) {
          alert('O telefone deve estar no formato "(99)9999.9999".');
        }
        telefone = telefone.slice(1, 3).concat(telefone.slice(4,8)).concat(telefone.slice(9,13))
        window.location = '/' + telefone;
        return false;
      }

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2054412-7']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    %title
      Qual Ã© a operadora?

  %body
    #container
      = yield
    #assinatura
      %a{:href => 'http://twitter.com/vitorbaptista', :class => 'assinatura'}
        @vitorbaptista

